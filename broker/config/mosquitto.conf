# Mosquitto configuration for IoT Alarm CINCO
# ===========================================

# Basic Settings
pid_file /var/run/mosquitto/mosquitto.pid
persistence true
persistence_location /mosquitto/data/
log_dest file /mosquitto/log/mosquitto.log
log_dest stdout

# Connection Settings
allow_anonymous true
max_connections 100

# Standard MQTT port
listener 1883
protocol mqtt

# WebSockets port for web clients
listener 8080
protocol websockets

# Security Settings
# Uncomment these lines if you want to add authentication later
# password_file /mosquitto/config/passwd
# acl_file /mosquitto/config/acl.conf

# Log Settings
log_type error
log_type warning  
log_type notice
log_type information
log_timestamp true
connection_messages true

# QoS and Persistence
autosave_interval 1800
autosave_on_changes false

# Performance Settings
max_inflight_messages 20
max_queued_messages 100
message_size_limit 0

# Keep Alive
keepalive_interval 60

# Retained Messages
retain_available true
max_queued_messages 1000

# Topics for IoT Alarm System
# ===========================
# Control topics: sirena/1, sirena/2, sirena/3, sirena/4, SENA_led
# Status topics: estado/sirena1, estado/sirena2, estado/sirena3, estado/sirena4, estado/sirenas
# Button topics: boton/1, boton/2, boton/3, boton/4
